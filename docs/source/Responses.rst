Коды и статусы ответов
======================

При положительном результате обработки запроса возвращается HTTP-код ответа 200 ОК. В теле ответа содержатся данные, соответствующие запросу. В случае отсутствия данных в указанном периоде или с указанными параметрами возвращается пустое тело ответа.

При возникновении внутренней ошибки сервера во время обработки запроса возвращается ошибка 500 Internal Server Error.

При появлении иных ошибок в процессе обработки запроса могут быть возвращены коды ошибки 400, 401, 403. В этих случаях в теле ответа возвращается следующая структура:

::

  {
     "errorCode": 400001,
     "userMessage": {
          	"ru": "",
          	"en": "",
      }
  }

`errorCode` – код, конкретизирующий обнаруженную ошибку, `userMessage` – поясняющий текст на русском и английском языках.


Возможные ответы, и соответствующие им errorCode
------------------------------------------------

::

  {
     "HTTP response":
      {
        "400 Bad Request":
        {
          "errorCode": 400001, //Переданный ИНН не соответствует формату
          "errorCode": 400002, //Неверный временной интервал: дата начала периода больше даты конца, либо даты заданы неверным форматом
          "errorCode": 400008  //Переданная дата не соответствует формату
        },
        "401 Unauthorized":
        {
          "errorCode": 401002, //Не указан идентификатор пользовательской сессии (auth.sid); Срок действия пользовательской сессии истек; Переданный идентификатор не соответствует формату
          "errorCode": 401003  //Не указан ключ интегратора или значение не соответствует формату
        },
        "403 Forbidden":
        {
          "errorCode": 403001, //Несоответствие указанных ключа интегратора и идентификатора пользовательской сессии или не предоставлен доступ к организации с переданным ИНН
          "errorCode": 403002  //Не предоставлен доступ к кассе с переданным РНМ
        },
        "404 Not Found":
        {
          "errorCode": 404001, //ФН с переданным номером не был установлен в кассу с переданным РНМ или документ не найден
          "errorCode": null    //В запросе не указано значение обязательного параметра
        }
      }
  }


При получении в ответе ошибок 401-403, проверьте, верно ли переданы auth.sid и ofd_api_key, см. разделы :doc:`Authentication` и :doc:`Authorization`

При получении в ответе ошибок 400, 404, проверьте, что верно указаны реквизиты ККТ и параметры используемого метода.

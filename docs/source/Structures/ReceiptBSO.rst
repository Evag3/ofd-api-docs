Кассовый чек, бланк строгой отчетности
======================================

::

  {
    "receipt": {                            //для бланка строгой отчетности - bso
      "receiptCode": 3,                     //number, обязательный для кассового чека - код документа, всегда равен 3
      "bsoCode": 4,                         //number, обязательный для БСО - код документа, всегда равен 4
      "user": "ООО \"Золотой пятачок\"",    //string, обязательный - наименование пользователя
      "userInn": "6699009482",              //string, обязательный - ИНН пользователя
      "requestNumber": 45,                  //number, обязательный - номер чека за смену
      "dateTime": "2018-10-30T10:00:00",    //number, обязательный - дата, время
      "shiftNumber": 8,                     //number, обязательный - номер смены
      "operationType": 1,                   //number, обязательный - признак расчета
      "taxationType": 0,                    //number, обязательный - применяемая система налогообложения
      "operator": "Иван Петров",            //string, обязательный - кассир
      "kktRegId": "0000000003065864    ",   //string, обязательный - регистрационный номер ККТ
      "fiscalDriveNumber": "99990788603",   //string, обязательный - заводской номер фискального накопителя
      "retailPlaceAddress": "г. Екатеринбург. ул. Малопрудная 5",  //string, необязательный - адрес (место) расчетов
      "buyerAddress": "",                   //string, необязательный - адрес покупателя
      "senderAddress": "",                  //string, необязательный - адрес отправителя
      "addressToCheckFiscalSign": "",       //string, необязательный - адрес сайта для проверки ФП
      "items": [],                          //array, необязательный - предметы рассчета
      "stornoItems": [],                    //array, необязательный - сторно товара
      "paymentAgentRemuneration": "",       //number, необязательный - размер вознаграждения платежного агента (субагента), в копейках
      "paymentAgentPhone": "",              //string, необязательный - телефон платежного агента
      "paymentSubagentPhone": "",           //string, необязательный - телефон платежного субагента
      "operatorPhoneToReceive": "",         //string, необязательный - телефон оператора по приему платежей
      "operatorPhoneToTransfer": "",        //string, необязательный - телефон оператора по переводу денежных средств
      "bankAgentPhone": "",                 //string, необязательный - телефон банковского агента
      "bankSubagentPhone": "",              //string, необязательный - телефон банковского субагента
      "bankAgentOperation": "",             //string, необязательный - операция банковского агента
      "bankSubagentOperation": "",          //string, необязательный - операция банковского субагента
      "bankAgentRemuneration": 0,           //number, необязательный - размер вознаграждения банковского агента(субагента)
      "operatorName": "",                   //string, необязательный - наименование оператора по переводу денежных средств
      "operatorAddress": "",                //string, необязательный - адрес оператора по переводу денежных средств
      "operatorInn": "",                    //string, необязательный - ИНН оператора по переводу денежных средств
      "nds20": 90,                          //number, необязательный - сумма(часть итога) к которой применяется ставка 20% , в копейках
      "nds18": 100,                         //number, необязательный - сумма(часть итога) к которой применяется ставка 18% , в копейках
      "nds10": 120,                         //number, необязательный - сумма(часть итога) к которой применяется ставка 10%, в копейках
      "nds0": 140,                          //number, необязательный - сумма(часть итога) к которой применяется ставка НДС 0%, в копейках
      "ndsNo": 0,                           //number, необязательный - сумма(часть итога) которая НДС не облагается, в копейках
      "ndsCalculated20": 90,                //number, необязательный - НДС итога чека с рассчитанной ставкой 20%, в копейках
      "ndsCalculated18": 100,               //number, необязательный - НДС итога чека с рассчитанной ставкой 18%, в копейках
      "ndsCalculated10": 120,               //number, необязательный - НДС итога чека с рассчитанной ставкой 10%, в копейках
      "totalSum": 1853,                     //number, обязательный - ИТОГ, в копейках
      "cashTotalSum": 1853,                 //number, обязательный - сумма уплаченная наличными, в копейках
      "ecashTotalSum": 0,                   //number, обязательный - сумма уплаченная электронными средствами платежа, в копейках
      "fiscalDocumentNumber": 544,          //number, обязательный -  порядковый номер фискального документа
      "fiscalSign": 3423453811              //number, обязательный - фискальный признак документа
    }
  }


.. note::
  В чеке допускается передача несколько ставок НДС, начисленные на позиции в чеке. В позиции допускается передать только один из тегов 1102-1107.

Поля `paymentAgentRemuneration` - `operatorInn` применяются в случае применения контрольно-кассовой техники платежным агентом, платежным субагентом при осуществлении деятельности по приему платежей физических лиц в соответствии с Федеральным законом «О деятельности по приему платежей физических лиц, осуществляемой платежными агентами» и в случае законом «О деятельности по приему платежей физических лиц, осуществляемой платежными агентами» и в случае применения контрольно-кассовой техники банковским платежным агентом, банковским платежным субагентом при осуществлении деятельности в соответствии с Федеральным законом «О национальной платежной системе».


Тип и формат реквизитов подструктур `items` и `stornoItems` приведены ниже:

::

  {
    "items": [
      {
        "name": "Горошек вкусный",  //string, обязательный - наименование товара
        "barcode": "",              //string, необязательный - штриховой код EAN13
        "price": 9845,              //number, необязательный - цена за единицу, в копейках
        "quantity": 1,              //number, обязательный - количество
        "modifiers": [],            //array, необязательный - скидка/наценка
        "ndsCalculated20": 90,      //number, необязательный - НДС итога чека с рассчитанной ставкой 20%, в копейках
        "ndsCalculated18": 100,     //number, необязательный - НДС итога чека с рассчитанной ставкой 18%, в копейках
        "ndsCalculated10": 120,     //number, необязательный - НДС итога чека с рассчитанной ставкой 10%, в копейках
        "sum": 9845                 //number, обязательный - общая стоимость позиции с учетом скидок и наценок, в копейках
      }
    ]
  }


Ставка скидки или наценки передаются в процентах (12.5 - это 12,5% или в долях - 0,125 от первоначальной суммы).

В качестве возможных значений поля "признак расчета" могут выступать следующие:

.. table::

  +---------------+-----------------+
  | Значение поля | Описание        |
  +===============+=================+
  | 1             | Приход          |
  +---------------+-----------------+
  | 2             | Возврат прихода |
  +---------------+-----------------+
  | 3             | Расход          |
  +---------------+-----------------+
  | 4             | Возврат расхода |
  +---------------+-----------------+

Тип и формат реквизитов подструктур «скидки/наценки» приведены ниже:


::

  {
    "modifiers": [
      {
        "discountName": "Акция",  //string, необязательный - наименование скидки
        "markupName": ,           //string, необязательный - наименование наценки
        "discount": 12.5,         //number, необязательный - скидка (ставка)
        "markup": 5.43,           //number, необязательный - наценка (ставка)
        "discountSum": 4563,      //number, необязательный - скидка (сумма), в копейках
        "markupSum": 2.34         //number, необязательный -  наценка (сумма), в копейках
      }
    ]
  }


Ставка налога передается в виде процента.
